
**Version:** 2.0  
**Last Updated:** 2025-11-15  
**Purpose:** Consolidated architectural documentation for the Polylog6 polyform simulator system.

---

## Executive Summary

Polylog6 is a desktop application for generating, visualizing, and analyzing 3D polyform assemblies. The system uses a hybrid detection approach combining CGAL geometric processing with Unicode-based compression for efficient storage and retrieval of polyform structures.

### Key Capabilities
- Real-time 3D visualization with sub-100ms interaction latency
- Automated assembly generation across 6 expansion patterns
- Mathematical precision with O/I combinatorial metrics
- Memory efficiency via cascading reference architecture (~500MB budget)
- Cross-platform deployment (Windows, macOS, Linux)

### Technology Stack
- **Frontend:** React + Three.js/React Three Fiber + Zustand
- **Desktop:** Tauri (Rust) wrapper
- **Backend:** FastAPI (Python) with CGAL integration
- **Storage:** Tiered Unicode compression system
- **Testing:** Playwright + pytest

---

## System Architecture

### Core Components

```
┌─────────────────────────────────────────────────────────────┐
│                    Desktop Layer (Tauri)                    │
├─────────────────────────────────────────────────────────────┤
│  React Frontend │ Three.js Renderer │ State Management      │
├─────────────────────────────────────────────────────────────┤
│                    Service Layer (FastAPI)                  │
├─────────────────────────────────────────────────────────────┤
│  Detection Engine │ Compression System │ Catalog Manager    │
├─────────────────────────────────────────────────────────────┤
│                    Data Layer (Unicode Tiers)              │
├─────────────────────────────────────────────────────────────┤
│  Tier 0: Primitives │ Tier 1: Polyhedra │ Tier 2+: Assemblies│
└─────────────────────────────────────────────────────────────┘
```

### 1. Detection & Analysis Pipeline

**Track A: Detection Pipeline**
- **ImageSegmenter:** Felzenszwalb + K-means for region detection
- **PatternAnalyzer:** FFT + symmetry analysis for pattern recognition
- **TopologyDetector:** CGAL/Trimesh for hull computation and topology
- **CandidateOptimizer:** NSGA-lite for optimization

**Track B: Monitoring Loop**
- **LibraryRefreshWorker:** Catalog updates and registry maintenance
- **MonitoringDispatcher:** Telemetry collection and distribution
- **ContextBriefTailer:** Real-time monitoring dashboards

### 2. Compression Architecture

The system uses a 4-level Unicode compression strategy:

#### Level 0: Polygon Labels
```
A = Triangle (3 sides)    B = Square (4 sides)
C = Pentagon (5 sides)   D = Hexagon (6 sides)
...
R = 20-gon
```

#### Level 1: Pair Compression
```
AA → α (U+03B1)  AB → β (U+03B2)  BB → γ (U+03B3)
```

#### Level 2: Cluster Encoding
```
Format: <symbol>⟨n=<count>, θ=<angle>°, σ=<symmetry>⟩
Example: Ω₁⟨n=6, θ=70.5°, σ=T⟩ (Tetrahedron)
```

#### Level 3: Assembly Encoding
```
Format: <cluster_sequence>⟨symmetry⟩
Example: Ω₁²Ω₂⟨σ=C₂⟩ (Bridge structure)
```

#### Level 4: Mega-Structure Encoding
```
Format: <assembly_symbol><pattern>⟨params⟩
Example: Ψ₁⟨radial, n=12, r=5.0, σ=D₁₂⟩
```

### 3. Memory Reduction Performance

| Structure | Polygon Count | Naive Storage | Compressed Storage | Ratio |
|-----------|--------------|---------------|-------------------|-------|