#pragma once\n#include <string>\n#include <vector>\n#include <cstdint>\n\nnamespace polylog::core {\n\nstruct FrameMetrics {\n    uint32_t frame_number = 0;\n    uint64_t timestamp_us = 0;\n    float cpu_ms = 0.0f;\n    float gpu_ms = 0.0f;\n    uint32_t draw_calls = 0;\n    uint32_t dispatches = 0;\n    size_t vram_used = 0;\n};\n\n/**\n * STAB-039: Structured logging with frame markers and metric exports.\n */\nclass FrameLogger {\npublic:\n    static FrameLogger& Instance();\n    \n    void BeginFrame(uint32_t frame_number);\n    void EndFrame();\n    \n    void RecordMetric(const std::string& metric_name, float value);\n    void RecordPass(const std::string& pass_name, float duration_ms);\n    \n    /// Export metrics to JSON lines\n    void PublishMetrics(const std::string& endpoint);\n    \n    /// Set metrics backend endpoint\n    void SetMetricsEndpoint(const std::string& endpoint) { metrics_endpoint_ = endpoint; }\n    \n    const FrameMetrics& GetCurrentMetrics() const { return current_metrics_; }\n    \nprivate:\n    FrameLogger() = default;\n    \n    FrameMetrics current_metrics_;\n    std::vector<FrameMetrics> metrics_log_;\n    std::string metrics_endpoint_;\n    \n    void ComputeFrameHash();\n};\n\n}  // namespace polylog::core\n