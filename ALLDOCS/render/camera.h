#pragma once\n#include <glm/glm.hpp>\n#include <glm/gtc/quaternion.hpp>\n\nnamespace polylog::render {\n\n/**\n * STAB-017: Camera with reversed-Z, TAA jitter, history management.\n */\nclass Camera {\npublic:\n    Camera(float fov_rad = glm::radians(60.0f), float aspect = 16.0f/9.0f);\n    \n    /// Set reversed-Z projection (infinite far plane)\n    void SetReversedZ(bool enabled) { use_reversed_z_ = enabled; }\n    bool GetReversedZ() const { return use_reversed_z_; }\n    \n    glm::mat4 GetProjectionMatrix() const;\n    glm::mat4 GetViewMatrix() const;\n    \n    /// TAA jitter management\n    void SetTAASeed(uint32_t seed) { taa_seed_ = seed; }\n    void AddTAAJitter(float jitter_radius);\n    glm::vec2 GetTAAJitter() const { return taa_jitter_; }\n    \n    /// Reset TAA history on topology/scale changes\n    void InvalidateTAAHistory() { taa_history_valid_ = false; }\n    bool IsTAAHistoryValid() const { return taa_history_valid_; }\n    \n    /// Camera pose\n    void SetPosition(const glm::vec3& pos) { position_ = pos; }\n    void SetForward(const glm::vec3& fwd) { forward_ = glm::normalize(fwd); }\n    void SetUp(const glm::vec3& up) { up_ = glm::normalize(up); }\n    \n    glm::vec3 GetPosition() const { return position_; }\n    glm::vec3 GetForward() const { return forward_; }\n    glm::vec3 GetUp() const { return up_; }\n    \nprivate:\n    float fov_rad_, aspect_;\n    glm::vec3 position_{0, 0, 0};\n    glm::vec3 forward_{0, 0, -1};\n    glm::vec3 up_{0, 1, 0};\n    bool use_reversed_z_ = true;\n    glm::vec2 taa_jitter_{0, 0};\n    uint32_t taa_seed_ = 0;\n    bool taa_history_valid_ = true;\n};\n\n}  // namespace polylog::render\n